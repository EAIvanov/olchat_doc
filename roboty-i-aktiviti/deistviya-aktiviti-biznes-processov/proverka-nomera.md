# Проверка WhatsApp на номере

{% hint style="info" %}
В настоящее время проверка номера на наличие WhatsApp осуществляется сразу при отправке сообщения. Если отправка осуществляется на номер, на котором не установлен WhatsApp, в дополнительных результатах выполнения активити вы получите ошибку **«NW»** а в описании ошибки — более развёрнутое её описание: **«Ошибка при отправке: телефонный номер 7961\*\*\*\*\*57 не найден в WhatsApp»**
{% endhint %}

<figure><img src="../../.gitbook/assets/image (509).png" alt=""><figcaption></figcaption></figure>

{% hint style="warning" %}
Активити **«Проверка WhatsApp на номере»** может быть использовано в отдельных случаях, когда вы хотите явно получить результат проверки номера на наличие WhatsApp и использовать его в ваших сценариях работы. Использовать данное активити каждый раз при стандартной отправке нет необходимости, кроме того, оно замедляет работу приложения.
{% endhint %}

{% hint style="danger" %}
Мы рекомендуем проверять на наличие WhatsApp не более 100 номеров в сутки! Делая большее количество проверок, вы делаете это на свой страх и риск! WhatsApp может заблокировать ваш номер за массовые проверки!
{% endhint %}

Рассмотрим пример простого бизнес-процесса с участием активити **«Проверка WhatsApp на номере».**

![](<../../.gitbook/assets/image (253).png>)

Про предварительную настройку можно прочитать [тут](osobennosti-ispolzovaniya-nomerov-v-bitriks24.md)

Добавьте в Итератор активити проверки номера

Выберите и установите из дополнительных результатов Итератора номер телефона:

![](<../../.gitbook/assets/image (384).png>)

![](<../../.gitbook/assets/image (803).png>)

Для примера выведем результат проверки в виде сообщения. Для этого получим дополнительный результат из активити проверки:

![](<../../.gitbook/assets/image (556).png>)

![](<../../.gitbook/assets/image (755).png>)

В результате выполнения бизнес-процесса мы получим значение, которое можем далее проверять в условиях:

![](<../../.gitbook/assets/image (235).png>)

{% hint style="info" %}
Также, проверенные телефоны можно добавлять в отдельный тип телефона – «Для рассылки», например, и в дальнейшем отправлять сообщения на эти номера без проверки.
{% endhint %}

{% hint style="info" %}
Иногда вместо значений **«Y»** и **«N»** вы можете получить значение **«E»** - Error. Это сообщение об ошибке. Возникает оно чаще всего если проверяемый телефон недоступен. Также ошибка может возникнуть, если в активити передали неверные данные: телефон как массив или несколько телефонов в поле.
{% endhint %}
